<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.omg.org/bpmn20" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_wTgtcF4AEe-lLpkSctAzKQ" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_metadataItem" structureRef="org.json.simple.JSONArray"/>
  <bpmn2:itemDefinition id="_responseItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_indiepubUpdateDistributionRightsUrlItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_cronIndiepubUpdateDistributionRightsItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="__EB16B72D-4008-4226-8EA8-4451B041765A_MaxResultsInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__EB16B72D-4008-4226-8EA8-4451B041765A_SQLStatementInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__EB16B72D-4008-4226-8EA8-4451B041765A_ColumnSeparatorInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__EB16B72D-4008-4226-8EA8-4451B041765A_ResultOutputXItem" structureRef="org.json.simple.JSONArray"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_MethodInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AcceptCharsetInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AcceptHeaderInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AuthTypeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AuthUrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ConnectTimeoutInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentDataInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentTypeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentTypeCharsetInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_CookieInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_CookiePathInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_HandleResponseErrorsInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_HeadersInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_PasswordInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ReadTimeoutInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultClassInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UsernameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultOutputXItem" structureRef="String"/>
  <bpmn2:process id="com.ingramcontent.indiepub.updateDistributionRights" drools:packageName="com.ingramcontent.indiepub" drools:version="1.0" drools:adHoc="false" name="updateDistributionRights" isExecutable="true" processType="Public">
    <bpmn2:property id="metadata" itemSubjectRef="_metadataItem" name="metadata"/>
    <bpmn2:property id="response" itemSubjectRef="_responseItem" name="response"/>
    <bpmn2:property id="indiepubUpdateDistributionRightsUrl" itemSubjectRef="_indiepubUpdateDistributionRightsUrlItem" name="indiepubUpdateDistributionRightsUrl"/>
    <bpmn2:property id="cronIndiepubUpdateDistributionRights" itemSubjectRef="_cronIndiepubUpdateDistributionRightsItem" name="cronIndiepubUpdateDistributionRights"/>
    <bpmn2:sequenceFlow id="_E8CCFFE3-ABE4-47BF-A4ED-ACEE0875364F" sourceRef="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89" targetRef="_17EDDF32-FA45-48FC-AA31-027791D00816">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.source">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_EC26A1EC-1F4D-4731-9CED-BA97B0969BC6" name="Run" sourceRef="_00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF" targetRef="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Run]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_wTgtcV4AEe-lLpkSctAzKQ" language="http://www.java.com/java"><![CDATA[// Cron job is active
boolean active = (boolean)com.ingramcontent.indiepub.utility.ContextUtility.getProcessVariable(kcontext, "cronIndiepubUpdateDistributionRights");
return active;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_75F5EB2F-8EBC-4A67-B141-A9F80F418704" sourceRef="_EB16B72D-4008-4226-8EA8-4451B041765A" targetRef="_00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF"/>
    <bpmn2:sequenceFlow id="_706F6309-4F22-4AAB-9531-75D0695C6406" sourceRef="_DE876ACD-2179-4D4F-9528-91BC330C1730" targetRef="_EB16B72D-4008-4226-8EA8-4451B041765A">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_10E2650E-755A-4865-8F3E-BB71131965CB" name="Exit" sourceRef="_00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF" targetRef="_A10D777A-9DDE-4C98-9734-96F8E1118A02">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Exit]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_wTgtcl4AEe-lLpkSctAzKQ" language="http://www.java.com/java"><![CDATA[// Cron job is active
boolean active = (boolean)com.ingramcontent.indiepub.utility.ContextUtility.getProcessVariable(kcontext, "cronIndiepubUpdateDistributionRights");
return !active;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:endEvent id="_17EDDF32-FA45-48FC-AA31-027791D00816">
      <bpmn2:incoming>_E8CCFFE3-ABE4-47BF-A4ED-ACEE0875364F</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:startEvent id="_DE876ACD-2179-4D4F-9528-91BC330C1730">
      <bpmn2:outgoing>_706F6309-4F22-4AAB-9531-75D0695C6406</bpmn2:outgoing>
      <bpmn2:timerEventDefinition id="_wTgtc14AEe-lLpkSctAzKQ">
        <bpmn2:timeCycle xsi:type="bpmn2:tFormalExpression" id="_wTgtdF4AEe-lLpkSctAzKQ" language="cron">0 */30 * * * ?</bpmn2:timeCycle>
      </bpmn2:timerEventDefinition>
    </bpmn2:startEvent>
    <bpmn2:exclusiveGateway id="_00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF" gatewayDirection="Diverging">
      <bpmn2:incoming>_75F5EB2F-8EBC-4A67-B141-A9F80F418704</bpmn2:incoming>
      <bpmn2:outgoing>_10E2650E-755A-4865-8F3E-BB71131965CB</bpmn2:outgoing>
      <bpmn2:outgoing>_EC26A1EC-1F4D-4731-9CED-BA97B0969BC6</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:task id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89" drools:taskName="Rest" name="Rest">
      <bpmn2:documentation id="_wTgtdV4AEe-lLpkSctAzKQ"><![CDATA[jbpm-workitems-rest/index.html]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Rest]]></drools:metaValue>
        </drools:metaData>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[org.slf4j.Logger logger =  com.ingramcontent.indiepub.helper.CustomLogger.log();
logger.info("*******  Begin: UpdateDistributionRights Api Call ************");]]></drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[org.slf4j.Logger logger =  com.ingramcontent.indiepub.helper.CustomLogger.log();
logger.info("******* End: UpdateDistributionRights Api Call ************");]]></drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_EC26A1EC-1F4D-4731-9CED-BA97B0969BC6</bpmn2:incoming>
      <bpmn2:outgoing>_E8CCFFE3-ABE4-47BF-A4ED-ACEE0875364F</bpmn2:outgoing>
      <bpmn2:ioSpecification id="_wTgtdl4AEe-lLpkSctAzKQ">
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_MethodInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_MethodInputXItem" name="Method"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UrlInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UrlInputXItem" name="Url"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AcceptCharsetInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AcceptCharsetInputXItem" name="AcceptCharset"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AcceptHeaderInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AcceptHeaderInputXItem" name="AcceptHeader"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AuthTypeInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AuthTypeInputXItem" name="AuthType"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AuthUrlInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AuthUrlInputXItem" name="AuthUrl"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ConnectTimeoutInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ConnectTimeoutInputXItem" name="ConnectTimeout"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentDataInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentDataInputXItem" name="ContentData"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentTypeInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentTypeInputXItem" name="ContentType"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentTypeCharsetInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentTypeCharsetInputXItem" name="ContentTypeCharset"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_CookieInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_CookieInputXItem" name="Cookie"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_CookiePathInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_CookiePathInputXItem" name="CookiePath"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_HandleResponseErrorsInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_HandleResponseErrorsInputXItem" name="HandleResponseErrors"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_HeadersInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_HeadersInputXItem" name="Headers"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_PasswordInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_PasswordInputXItem" name="Password"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ReadTimeoutInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ReadTimeoutInputXItem" name="ReadTimeout"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultClassInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultClassInputXItem" name="ResultClass"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UsernameInputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UsernameInputXItem" name="Username"/>
        <bpmn2:dataInput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultOutputX" drools:dtype="String" itemSubjectRef="__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultOutputXItem" name="Result"/>
        <bpmn2:inputSet id="_wTgtd14AEe-lLpkSctAzKQ">
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_MethodInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AcceptCharsetInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AcceptHeaderInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AuthTypeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_AuthUrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ConnectTimeoutInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentDataInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentTypeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ContentTypeCharsetInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_CookieInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_CookiePathInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_HandleResponseErrorsInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_HeadersInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_PasswordInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ReadTimeoutInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultClassInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UsernameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="_wTgteF4AEe-lLpkSctAzKQ">
          <bpmn2:dataOutputRefs>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="_wTgteV4AEe-lLpkSctAzKQ">
        <bpmn2:targetRef>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_MethodInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_wTgtel4AEe-lLpkSctAzKQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_wTgte14AEe-lLpkSctAzKQ"><![CDATA[GET]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_wTgtfF4AEe-lLpkSctAzKQ">_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_MethodInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_wTgtfV4AEe-lLpkSctAzKQ">
        <bpmn2:sourceRef>indiepubUpdateDistributionRightsUrl</bpmn2:sourceRef>
        <bpmn2:targetRef>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_UrlInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_wTgtfl4AEe-lLpkSctAzKQ">
        <bpmn2:targetRef>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_wTgtf14AEe-lLpkSctAzKQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_wTgtgF4AEe-lLpkSctAzKQ"><![CDATA[Rest]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_wTgtgV4AEe-lLpkSctAzKQ">_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_TaskNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="_wTgtgl4AEe-lLpkSctAzKQ">
        <bpmn2:sourceRef>_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_ResultOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>response</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:task id="_EB16B72D-4008-4226-8EA8-4451B041765A" drools:taskName="ExecuteSQL" name="ExecuteSQL">
      <bpmn2:documentation id="_wTgtg14AEe-lLpkSctAzKQ"><![CDATA[execute-sql-workitem/index.html]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[ExecuteSQL]]></drools:metaValue>
        </drools:metaData>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[org.slf4j.Logger logger =  com.ingramcontent.indiepub.helper.CustomLogger.log();
logger.info("******* Begin: UpdateDistributionRights - Get Cron Job workflow parameters ************");]]></drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[org.slf4j.Logger logger =  com.ingramcontent.indiepub.helper.CustomLogger.log();
logger.info("Cron Job metadata = {} ", metadata);
com.ingramcontent.indiepub.utility.ContextUtility.initializeCronMetadata(kcontext, metadata);
logger.info("******* End: UpdateDistributionRights - Get Cron Job workflow parameters ************");

Boolean allow = (Boolean)com.ingramcontent.indiepub.utility.ContextUtility.getProcessVariable(kcontext, "cronIndiepubUpdateDistributionRights");
if(allow == null) {
    logger.info("Cron job param is null. Stop the cron job to execute further !!");
    com.ingramcontent.indiepub.utility.ContextUtility.setProcessVariable(kcontext, "cronIndiepubUpdateDistributionRights", false);
} else {
    logger.info("Run cron job parameter = {} ", allow);
}]]></drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_706F6309-4F22-4AAB-9531-75D0695C6406</bpmn2:incoming>
      <bpmn2:outgoing>_75F5EB2F-8EBC-4A67-B141-A9F80F418704</bpmn2:outgoing>
      <bpmn2:ioSpecification id="_wTgthF4AEe-lLpkSctAzKQ">
        <bpmn2:dataInput id="_EB16B72D-4008-4226-8EA8-4451B041765A_MaxResultsInputX" drools:dtype="String" itemSubjectRef="__EB16B72D-4008-4226-8EA8-4451B041765A_MaxResultsInputXItem" name="MaxResults"/>
        <bpmn2:dataInput id="_EB16B72D-4008-4226-8EA8-4451B041765A_SQLStatementInputX" drools:dtype="String" itemSubjectRef="__EB16B72D-4008-4226-8EA8-4451B041765A_SQLStatementInputXItem" name="SQLStatement"/>
        <bpmn2:dataInput id="_EB16B72D-4008-4226-8EA8-4451B041765A_ColumnSeparatorInputX" drools:dtype="String" itemSubjectRef="__EB16B72D-4008-4226-8EA8-4451B041765A_ColumnSeparatorInputXItem" name="ColumnSeparator"/>
        <bpmn2:dataInput id="_EB16B72D-4008-4226-8EA8-4451B041765A_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_EB16B72D-4008-4226-8EA8-4451B041765A_ResultOutputX" drools:dtype="org.json.simple.JSONArray" itemSubjectRef="__EB16B72D-4008-4226-8EA8-4451B041765A_ResultOutputXItem" name="Result"/>
        <bpmn2:inputSet id="_wTgthV4AEe-lLpkSctAzKQ">
          <bpmn2:dataInputRefs>_EB16B72D-4008-4226-8EA8-4451B041765A_MaxResultsInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_EB16B72D-4008-4226-8EA8-4451B041765A_SQLStatementInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_EB16B72D-4008-4226-8EA8-4451B041765A_ColumnSeparatorInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_EB16B72D-4008-4226-8EA8-4451B041765A_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="_wTgthl4AEe-lLpkSctAzKQ">
          <bpmn2:dataOutputRefs>_EB16B72D-4008-4226-8EA8-4451B041765A_ResultOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="_wTgth14AEe-lLpkSctAzKQ">
        <bpmn2:targetRef>_EB16B72D-4008-4226-8EA8-4451B041765A_MaxResultsInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_wTgtiF4AEe-lLpkSctAzKQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_wTgtiV4AEe-lLpkSctAzKQ"><![CDATA[20]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_wTgtil4AEe-lLpkSctAzKQ">_EB16B72D-4008-4226-8EA8-4451B041765A_MaxResultsInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_wTgti14AEe-lLpkSctAzKQ">
        <bpmn2:targetRef>_EB16B72D-4008-4226-8EA8-4451B041765A_SQLStatementInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_wTgtjF4AEe-lLpkSctAzKQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_wTgtjV4AEe-lLpkSctAzKQ"><![CDATA[select id, parameterName, parameterValue from workflow_parameter where parameterName in ('indiepubUpdateDistributionRightsUrl', 'cronIndiepubUpdateDistributionRights');]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_wTgtjl4AEe-lLpkSctAzKQ">_EB16B72D-4008-4226-8EA8-4451B041765A_SQLStatementInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_wTgtj14AEe-lLpkSctAzKQ">
        <bpmn2:targetRef>_EB16B72D-4008-4226-8EA8-4451B041765A_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_wTgtkF4AEe-lLpkSctAzKQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_wTgtkV4AEe-lLpkSctAzKQ"><![CDATA[ExecuteSQL]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_wTgtkl4AEe-lLpkSctAzKQ">_EB16B72D-4008-4226-8EA8-4451B041765A_TaskNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="_wTgtk14AEe-lLpkSctAzKQ">
        <bpmn2:sourceRef>_EB16B72D-4008-4226-8EA8-4451B041765A_ResultOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>metadata</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:endEvent id="_A10D777A-9DDE-4C98-9734-96F8E1118A02">
      <bpmn2:incoming>_10E2650E-755A-4865-8F3E-BB71131965CB</bpmn2:incoming>
    </bpmn2:endEvent>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="_wTgtlF4AEe-lLpkSctAzKQ">
    <bpmndi:BPMNPlane id="_wTgtlV4AEe-lLpkSctAzKQ" bpmnElement="com.ingramcontent.indiepub.updateDistributionRights">
      <bpmndi:BPMNShape id="shape__A10D777A-9DDE-4C98-9734-96F8E1118A02" bpmnElement="_A10D777A-9DDE-4C98-9734-96F8E1118A02">
        <dc:Bounds height="56.0" width="56.0" x="338.0" y="236.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__EB16B72D-4008-4226-8EA8-4451B041765A" bpmnElement="_EB16B72D-4008-4226-8EA8-4451B041765A">
        <dc:Bounds height="54.0" width="121.0" x="153.0" y="130.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89" bpmnElement="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89">
        <dc:Bounds height="64.0" width="132.0" x="458.0" y="125.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF" bpmnElement="_00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF">
        <dc:Bounds height="56.0" width="56.0" x="338.0" y="130.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__DE876ACD-2179-4D4F-9528-91BC330C1730" bpmnElement="_DE876ACD-2179-4D4F-9528-91BC330C1730">
        <dc:Bounds height="56.0" width="56.0" x="47.0" y="129.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__17EDDF32-FA45-48FC-AA31-027791D00816" bpmnElement="_17EDDF32-FA45-48FC-AA31-027791D00816">
        <dc:Bounds height="56.0" width="56.0" x="659.0" y="129.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF_to_shape__A10D777A-9DDE-4C98-9734-96F8E1118A02" bpmnElement="_10E2650E-755A-4865-8F3E-BB71131965CB">
        <di:waypoint xsi:type="dc:Point" x="366.0" y="158.0"/>
        <di:waypoint xsi:type="dc:Point" x="366.0" y="236.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__DE876ACD-2179-4D4F-9528-91BC330C1730_to_shape__EB16B72D-4008-4226-8EA8-4451B041765A" bpmnElement="_706F6309-4F22-4AAB-9531-75D0695C6406">
        <di:waypoint xsi:type="dc:Point" x="75.0" y="157.0"/>
        <di:waypoint xsi:type="dc:Point" x="153.0" y="157.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__EB16B72D-4008-4226-8EA8-4451B041765A_to_shape__00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF" bpmnElement="_75F5EB2F-8EBC-4A67-B141-A9F80F418704">
        <di:waypoint xsi:type="dc:Point" x="213.5" y="157.0"/>
        <di:waypoint xsi:type="dc:Point" x="338.0" y="158.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__00D3106E-4A1C-4D7E-AAB1-9AABC0B65BFF_to_shape__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89" bpmnElement="_EC26A1EC-1F4D-4731-9CED-BA97B0969BC6">
        <di:waypoint xsi:type="dc:Point" x="366.0" y="158.0"/>
        <di:waypoint xsi:type="dc:Point" x="458.0" y="157.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__AE4C030F-35AA-44ED-80FB-57C8F7B0EB89_to_shape__17EDDF32-FA45-48FC-AA31-027791D00816" bpmnElement="_E8CCFFE3-ABE4-47BF-A4ED-ACEE0875364F">
        <di:waypoint xsi:type="dc:Point" x="590.0" y="157.0"/>
        <di:waypoint xsi:type="dc:Point" x="659.0" y="157.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship id="_wTgtll4AEe-lLpkSctAzKQ" type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario xsi:type="bpsim:Scenario" id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters xsi:type="bpsim:ScenarioParameters"/>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_EB16B72D-4008-4226-8EA8-4451B041765A" id="_wTgtl14AEe-lLpkSctAzKQ">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_AE4C030F-35AA-44ED-80FB-57C8F7B0EB89" id="_wTgtmF4AEe-lLpkSctAzKQ">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_DE876ACD-2179-4D4F-9528-91BC330C1730" id="_wTgtmV4AEe-lLpkSctAzKQ">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:NormalDistribution mean="0.0" standardDeviation="0.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_wTgtcF4AEe-lLpkSctAzKQ</bpmn2:source>
    <bpmn2:target>_wTgtcF4AEe-lLpkSctAzKQ</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>
